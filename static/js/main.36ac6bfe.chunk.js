(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),s=a.n(i),o=(a(14),a(1)),l=a(2),u=a(4),c=a(3),m=a(5),p=(a(15),a(8)),d=a.n(p),h=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).getValue=function(){return a.props.value.isRevealed?a.props.value.isMine?"\ud83d\udca5":0===a.props.value.neighbour?null:a.props.value.neighbour:a.props.value.isFlagged?"\ud83d\udea9":null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="cell"+(this.props.value.isRevealed?"":" hidden")+(this.props.value.isMine?" is-mine":"")+(this.props.value.isFlagged?" is-flag":"");return r.a.createElement("div",{ref:"cell",onClick:this.props.onClick,className:e,onContextMenu:this.props.cMenu},this.getValue())}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).resetState=function(){a.setState({boardData:a.initBoardData(a.props.height,a.props.width,a.props.mines),gameWon:!1,mineCount:a.props.mines,isGameOver:!1})},a.getRandomNumber=function(e){return Math.floor(1e3*Math.random()+1)%e},a.initBoardData=function(e,t,n){for(var r=[],i=0;i<e;i++){r.push([]);for(var s=0;s<t;s++)r[i][s]={x:i,y:s,isMine:!1,neighbour:0,isRevealed:!1,isEmpty:!1,isFlagged:!1}}return r=a.plantMines(r,e,t,n),r=a.getNeighbours(r,e,t),console.log(r),r},a.plantMines=function(e,t,n,r){for(var i,s,o=0;o<r;)i=a.getRandomNumber(n),s=a.getRandomNumber(t),e[i][s].isMine||(e[i][s].isMine=!0,o++);return e},a.getNeighbours=function(e,t,n){for(var r=e,i=0;i<t;i++)for(var s=0;s<n;s++)!0!==e[i][s].isMine&&function(){var t=0;a.traverseBoard(e[i][s].x,e[i][s].y,e).map((function(e){e.isMine&&t++})),0===t&&(r[i][s].isEmpty=!0),r[i][s].neighbour=t}();return r},a.traverseBoard=function(e,t,n){var r=[];return e>0&&r.push(n[e-1][t]),e<a.props.height-1&&r.push(n[e+1][t]),t>0&&r.push(n[e][t-1]),t<a.props.width-1&&r.push(n[e][t+1]),e>0&&t>0&&r.push(n[e-1][t-1]),e>0&&t<a.props.width-1&&r.push(n[e-1][t+1]),e<a.props.height-1&&t<a.props.width-1&&r.push(n[e+1][t+1]),e<a.props.height-1&&t>0&&r.push(n[e+1][t-1]),r},a.revealBoard=function(){var e=a.state.boardData;e.map((function(e){e.map((function(e){e.isRevealed=!0}))})),a.setState({boardData:e})},a.revealEmpty=function(e,t,n){return a.traverseBoard(e,t,n).map((function(e){e.isRevealed||!e.isEmpty&&e.isMine||(n[e.x][e.y].isRevealed=!0,e.isEmpty&&a.revealEmpty(e.x,e.y,n))})),n},a.handleCellClick=function(e,t){var n=!1;if(a.state.boardData[e][t].isRevealed)return null;a.state.boardData[e][t].isMine&&(a.revealBoard(),a.setState({isGameOver:!0}));var r=a.state.boardData;r[e][t].isFlagged=!1,r[e][t].isRevealed=!0,r[e][t].isEmpty&&(r=a.revealEmpty(e,t,r)),a.getHidden(r).length===a.props.mines&&(n=!0,a.revealBoard(),alert("You Win")),a.setState({boardData:r,mineCount:a.props.mines-a.getFlags(r).length,gameWon:n})},a._handleContextMenu=function(e,t,n){e.preventDefault();var r=a.state.boardData,i=a.state.mineCount,s=!1;if(!r[t][n].isRevealed){if(r[t][n].isFlagged?(r[t][n].isFlagged=!1,i++):(r[t][n].isFlagged=!0,i--),0===i){var o=a.getMines(r),l=a.getFlags(r);(s=JSON.stringify(o)===JSON.stringify(l))&&(a.revealBoard(),alert("You Win"))}a.setState({boardData:r,mineCount:i,gameWon:s})}},a.renderBoard=function(e){return e.map((function(e){return e.map((function(t){return r.a.createElement("div",{key:t.x*e.length+t.y},r.a.createElement(h,{className:"grow",onClick:function(){return a.handleCellClick(t.x,t.y)},cMenu:function(e){return a._handleContextMenu(e,t.x,t.y)},value:t}),e[e.length-1]===t?r.a.createElement("div",{className:"clear"}):"")}))}))},a.componentWillReceiveProps=function(e){JSON.stringify(a.props)!==JSON.stringify(e)&&a.setState({boardData:a.initBoardData(e.height,e.width,e.mines),gameWon:!1,mineCount:e.mines})},a.state={boardData:a.initBoardData(a.props.height,a.props.width,a.props.mines),gameWon:!1,mineCount:a.props.mines,isGameOver:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getMines",value:function(e){var t=[];return e.map((function(e){e.map((function(e){e.isMine&&t.push(e)}))})),t}},{key:"getFlags",value:function(e){var t=[];return e.map((function(e){e.map((function(e){e.isFlagged&&t.push(e)}))})),t}},{key:"getHidden",value:function(e){var t=[];return e.map((function(e){e.map((function(e){e.isRevealed||t.push(e)}))})),t}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("audio",{id:"myAudio"},r.a.createElement("source",{src:"./Explosion+3.ogg",type:"audio/ogg"}),r.a.createElement("source",{src:"./Explosion+3.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."),r.a.createElement("div",{className:"game-info tc"},r.a.createElement("article",{class:"br2 ba dark-gray b--black-10 mv4 w-100 w-100-m w-25-l mw8 center shadow-5 fw8"},this.state.isGameOver?r.a.createElement("div",null,r.a.createElement("span",{className:"ttu"},"GMAE OVER RESET TO PLAY"),r.a.createElement("br",null)):r.a.createElement("div",null,r.a.createElement("span",{className:"ttu"},"mines"),r.a.createElement("br",null),r.a.createElement("span",{className:"f2"},this.state.mineCount),r.a.createElement("br",null),r.a.createElement("span",{className:"f2"},this.state.gameWon?"You Win":"")))),r.a.createElement("article",{class:"br2 ba dark-gray b--black-10 mv4 w-100 w-100-m w-25-l mw8 center shadow-5"},this.renderBoard(this.state.boardData)),r.a.createElement("div",{class:"tc mt3"},r.a.createElement("button",{class:"black pv2 ph3 bg-transparent ba b--black hover-bg-black hover-white mw10 w-100 w-100-m w-25-l mw8 center shadow-5",onClick:this.resetState},"RESET GAME")))}}]),t}(n.Component),v=(a(16),a(17),{particles:{number:{value:100,density:{enable:!0,value_area:900}}}}),f=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(c.a)(t).call(this))).state={height:8,width:8,mines:10},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("audio",{id:"myAudio"},r.a.createElement("source",{src:"horse.ogg",type:"audio/ogg"}),r.a.createElement("source",{src:"horse.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."),r.a.createElement(d.a,{className:"particles",params:v}),r.a.createElement("h1",{className:"f1 tc"},"minesweeper"),r.a.createElement("div",{class:"boardStyle"},r.a.createElement(g,{height:this.state.height,width:this.state.width,mines:this.state.mines})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.36ac6bfe.chunk.js.map